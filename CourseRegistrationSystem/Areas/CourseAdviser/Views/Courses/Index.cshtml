@model CourseRegistrationSystem.Areas.CourseAdviser.ViewModels.CoursesIndex

@{
    ViewBag.Title = "Courses";
}

<h1>Courses</h1>

<table class="table table-condensed table-striped" id="courses-table">
    <thead>
        <tr>
            <th>Course Code</th>
            <th>Course Title</th>
            <th>Course Info</th>
            <th>Level</th>
            <th>Semester</th>
            <th>Credit</th>
            <th>Type</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var course in Model.Courses)
            {
            <tr>
                <td>@course.CourseCode</td>
                <td>@course.CourseTitle</td>
                <td>@course.CourseInfo</td>
                <td>@course.Level</td>
                <td>@course.Semester</td>
                <td>@course.Credit</td>
                <td>@course.Type</td>
                <td>
                    <div class="btn-group" id="btn-addinfo">
                        <a href="@Url.Action("addinfo", new { course.CourseId })" class="btn btn-xs btn-primary">
                            <i class="glyphicon glyphicon-plus"></i>
                            Add Info
                        </a>
                    </div>
                </td>
            </tr>
        }
    </tbody>
</table>

@section Scripts{
    <script>
        $('#courses-table td:nth-child(1)').each(function () {
            var $td = $(this).closest('tr').children('td').eq(2);
            console.log($td.html());
            if ($td.contents() == 0) {
                $('#btn-addinfo').prop("disabled", true);
            }
        });
    </script>
}